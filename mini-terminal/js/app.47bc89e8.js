(function(){"use strict";var e={542:function(e,t,n){var r=n(144),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app",tabindex:"0"},on:{focus:e.setFocus}},[t("TerminalContainer")],1)},s=[],o=function(){var e=this,t=e._self._c;return t("div",{style:{"--font-size":e.fontSize+"rem"},attrs:{id:"terminal-container",tabindex:"1"},on:{keydown:e.handleInput,click:function(t){return t.preventDefault(),e.openKeyboard.apply(null,arguments)}}},[t("TerminalLogin",{attrs:{isLoggedIn:e.isLoggedIn}}),e._l(e.children,(function({child:n,props:r},i){return[t(n,e._b({key:i,tag:"component"},"component",r,!1))]}))],2)},a=[],l=function(){var e=this,t=e._self._c;return t("span",{attrs:{id:"terminal-input"}},[t("input",{attrs:{id:"fake-input",type:"text"}}),t("TerminalPWDUser",{attrs:{username:e.username,pwd:e.pwd}}),t("TerminalEditableWrapper",{attrs:{suggestions:e.suggestions,cursorIndex:e.cursorIndex,editableText:e.editableText}})],1)},c=[],d=function(){var e=this,t=e._self._c;return t("span",{attrs:{id:"user-pwd"}},[t("TerminalReadOnly",{attrs:{readOnlyText:`${e.username}@${e.sysname}:${e.pwd}>`}})],1)},u=[],h=function(){var e=this,t=e._self._c;return t("span",{attrs:{id:"readOnlyContainer"}},e._l(e.finalTexts,(function(n,r){return t("span",{key:r},[e._v(" "+e._s(n)+" "),e.breakOnNewLine?t("br"):e._e()])})),0)},p=[],m={name:"TerminalReadOnly",props:{readOnlyText:{type:String,default:""},breakOnNewLine:{type:Boolean,default:!1},trimLine:{type:Boolean,default:!0},simulateTyping:{type:Boolean,default:!1},typeSpeed:{type:Number,default:1}},computed:{finalTexts:({breakOnNewLine:e,readOnlyText:t,trimLine:n})=>{if(e){let e=t.split("\n");return e.map((e=>n?e.trim():e)).filter((e=>""!=e))}return[t]}}},g=m,f=n(736),y=(0,f.Z)(g,h,p,!1,null,"72886be5",null),T=y.exports,x={name:"TerminalPWDUser",components:{TerminalReadOnly:T},props:{username:{type:String,required:!0},sysname:{type:String,default:"MiniTerminal"},pwd:{type:String,required:!0}}},b=x,v=(0,f.Z)(b,d,u,!1,null,null,null),w=v.exports,I=function(){var e=this,t=e._self._c;return t("span",{attrs:{id:"editable-wrapper"}},[e._l(e.children,(function({child:n,props:r},i){return[t(n,e._b({key:i,tag:"component"},"component",r,!1))]}))],2)},C=[],O=function(){var e=this,t=e._self._c;return t("span",{staticClass:"editable"},[e._v(e._s(e.textToRender))])},k=[],S={name:"TerminalEditable",props:{editableText:{type:String,required:!0}},computed:{textToRender:e=>e.editableText.replace(/\s/g," ")}},_=S,P=(0,f.Z)(_,O,k,!1,null,null,null),D=P.exports,E=function(){var e=this,t=e._self._c;return t("span",{attrs:{id:"cursor-tab-wrapper"}},[t("TerminalCursor",{attrs:{charBeneath:e.charBeneath}}),t("TerminalTabAutoComplete",{attrs:{suggestions:e.suggestions}})],1)},R=[],F=function(){var e=this,t=e._self._c;return e.hasSuggestions?t("ul",{attrs:{id:"suggestions"}},e._l(e.suggestions,(function(n,r){return t("li",{key:r},[e._v(e._s(n))])})),0):e._e()},A=[],$={name:"TerminalTabAutoComplete",props:{suggestions:{type:Array,default:()=>[]}},computed:{hasSuggestions:({suggestions:e})=>!!e.length}},L=$,N=(0,f.Z)(L,F,A,!1,null,null,null),U=N.exports,B=function(){var e=this,t=e._self._c;return t("span",{staticClass:"cursor",style:{"--animation-duration":e.blinkSpeed+"s"}},[e._v(e._s(e._charBeneath))])},z=[],W={name:"TerminalCursor",props:{blinkSpeed:{type:Number,default:1},charBeneath:{type:String,default:" "}},computed:{_charBeneath({charBeneath:e}){return e.replace(/\s/g," ")}}},j=W,q=(0,f.Z)(j,B,z,!1,null,null,null),M=q.exports,Z={name:"TerminalCursorTabWrapper",components:{TerminalCursor:M,TerminalTabAutoComplete:U},props:{suggestions:{type:Array,default:()=>[]},charBeneath:{type:String,default:" "}}},H=Z,K=(0,f.Z)(H,E,R,!1,null,null,null),V=K.exports,G={name:"TerminalEditableWrapper",components:{TerminalEditable:D,TerminalCursorTabWrapper:V},props:{editableText:{type:String,required:!0},cursorIndex:{type:Number,required:!0},suggestions:{type:Array,required:!0}},methods:{appendChild(e,t,n){e.push({child:t,props:n})},appendEditableChild(e,t){this.appendChild(e,D,{editableText:t})},appendCursorChild(e,t,n){this.appendChild(e,V,{charBeneath:t,suggestions:n})},appendChildrenFromText(e,t,n){const r=t.match(/([\/a-zA-z0-9_.()`!@#$%^&*\-=+,<>?'";|:\[\]{}]+)|(\s+)/g);if(1==t.length&&1==n)this.appendCursorChild(e,t,this.suggestions);else for(let i in r)this.appendEditableChild(e,r[i])}},computed:{children({editableText:e,cursorIndex:t}){let n=[];const r=[e.slice(0,t),e[t]||" ",e.slice(t+1,e.length)];for(let i in r)this.appendChildrenFromText(n,r[i],i);return n}}},Y=G,J=(0,f.Z)(Y,I,C,!1,null,null,null),Q=J.exports,X={name:"TerminalInput",components:{TerminalPWDUser:w,TerminalEditableWrapper:Q},props:{editableText:{type:String,required:!0},cursorIndex:{type:Number,required:!0},pwd:{type:String,required:!0},username:{type:String,required:!0},suggestions:{type:Array,required:!0}}},ee=X,te=(0,f.Z)(ee,l,c,!1,null,null,null),ne=te.exports,re=function(){var e=this,t=e._self._c;return t("TerminalReadOnly",{attrs:{breakOnNewLine:"",readOnlyText:e.welcomeText}})},ie=[],se={name:"TerminalLogin",components:{TerminalReadOnly:T},props:{isLoggedIn:{type:Boolean,required:!0}},computed:{welcomeText:({isLoggedIn:e})=>"Welcome to Mini Terminal. Here you can checkout the profile of Krushi Raj Tula.\n                Copyright (c) 2019, Everyone - as this is an open-source site :P.\n            "+(e?"Need some help on how to use this? Use 'help' command.":"Please enter your username to establish a session. Guest is default username.\n            In case of any error in logging in with the username provided, the system will try to fallback to default username and establishes a session with default username.\n            *Note:Currently this terminal doesn't support handling of inputs from virtual keyboard. So, you can't use this on devices with touch screen.*")}},oe=se,ae=(0,f.Z)(oe,re,ie,!1,null,null,null),le=ae.exports;const ce={"~":{type:"directory",data:{folder1:{type:"directory",data:{folder2:{type:"directory",data:{}},file2:{type:"file",data:"Hello from file2."}}},file1:{type:"file",data:"Hello from file1.\nSecond line.\n Third line here."},file2:{type:"file",data:"Hello from file2!"}}}};class de{constructor({name:e,type:t,parent:n,data:r,path:i}){this.name=e,this.type=t,this.parent=n,this.path=i,this.data=r}}class ue{constructor(){this.fsRoot={},this.buildFsTree(ce,void 0),this.currDir=this.fsRoot,this._currDir=this.fsRoot,this.currFile=void 0,this._currFile=void 0}insertNode(e,t,n){return Object.getOwnPropertyNames(e).length?e.data[n[0]]?this.insertNode(e.data[n[0]],t,n.slice(1)):e.data[n[0]]=this.insertNode({},t,n.slice(1)):e=t,e}getPathArray(e){const t=e.split("/").filter((e=>""!==e));return 1===t.length?t:t.slice(1)}buildFsTree(e,t){for(let n in e){const r=n,i=t?t.path+"/"+r:r,s=t,o=e[n].type,a="file"==o?e[n].data:{},l=new de({name:r,path:i,parent:s,type:o,data:a}),c=this.getPathArray(i);this.fsRoot=this.insertNode(this.fsRoot,l,c),"file"!=o&&this.buildFsTree(e[n].data,l)}}changeDirectory(){this.currDir=this._currDir,this.currFile=this._currFile}handleBaseEdgeConditions(e){return this._currDir=this.currDir,"~"==e?(this._currDir=this.fsRoot,this._currDir):"."==e?this._currDir:"~"==this._currDir.name&&".."==e?{error:"Please stay at home. Don't go outside. #StayHome #StaySafe"}:void 0}getPathTokens(e){if(e)return e.replace(/\.\./g,"parent").match(/([a-zA-z0-9_.()`!@#$%^&*\-=+,<>?'";|:\[\]{}]+)|([\/]+)/g)}getNodeFromToken(e,t,n){if("/"==e)return{type:"continue"};if(this._currDir.hasOwnProperty("data")&&this._currDir.data.hasOwnProperty(e)||"parent"==e&&this._currDir.hasOwnProperty("parent"))return"parent"==e?this._currDir.parent:this._currDir.data[e];{const e=t.slice(0,n-1).join("");return{type:"error",error:`ENOENT: Error no such file or directory found at ${e}`.replace(/parent/g,"..")}}}handleFileEnt(e,t){if("/"==e)return{type:"error",error:"A file should not be followed by '/' as it can't be explored."};this._currFile=t}getEntFromPath(e,t){let n=this.handleBaseEdgeConditions(e);if(n)return n;const r=this.getPathTokens(e);for(let i in r){let e=r[i];switch(n=this.getNodeFromToken(e,r,i),n.type){case"error":return n;case"file":this.handleFileEnt(r[i+1],n);break;case"directory":this._currDir=n;break;case"continue":continue}if(i==r.length-1)return t&&this.changeDirectory(),"file"==n.type?this._currFile:this._currDir}}}const he="Mini Terminal v1.0.190807";let pe={};const me=new ue,ge=(e,t)=>e==t||t.hasOwnProperty(e),fe=(e,t,n)=>{if("help"==t["command"])return!0;n.hasOwnProperty("options")?n["options"]+=1:n["options"]=1;const r=n["options"]<=Object.getOwnPropertyNames(t.options).length,i=ge(e.slice(2),t["options"]),s=i&&r;if(!s){const r=`'${e}' is not a valid option for '${t.command}' command.`;n.message=r}return s},ye=(e,t)=>{t.hasOwnProperty("args")?t["args"]+=1:t["args"]=1;const n=t["args"]<=e["args"];if(!n){const n=`Maximum number arguments exceeded. You can pass upto ${e.args} arguments only.`;t.message=n}return n},Te=(e,t,n,r)=>{if(n==e.length)return!0;const{str:i,type:s}=e[n];let o=!1;return o="optkey"==s?fe(i,t,r,o):"argument"!=s||ye(t,r,o),o&&Te(e,t,n+1,r)},xe=(e,t)=>{let n={message:""},r=!1;return t?(r=Te(e,t,0,n),{isValid:r,info:n}):(n.message=`${e[0]["str"]} - command not found. Please check and try again.`,{isValid:r,info:n})},be=e=>{let t={command:"",options:{},args:[]};for(let n in e)switch(e[n].type){case"command":t.command=e[n].str;break;case"optkey":const r=parseInt(n)+2+"";t.options[e[n].str.slice(2)]=r<e.length?e[r].str:"";break;case"argument":t.args.push(e[n].str);break;default:continue}return t},ve=(e,t=!0,n=!0)=>{pe.childrenData.push({child:T,props:{readOnlyText:e,breakOnNewLine:t,trimLine:n}})},we=(e,t,n,r)=>{pe.childrenData.push({child:ne,props:{pwd:e,cursorIndex:t,editableText:n}})},Ie=()=>{pe.cursorIndex=0,pe.editableText="",pe.loggedIn||(pe.pwd="Username",pe.username="Guest");const{pwd:e,cursorIndex:t,editableText:n,username:r}=pe;we(e,t,n,r)},Ce=({message:e})=>{ve(e),Ie()},Oe=()=>{const{username:e,sysname:t,pwd:n,commandTokens:r}=pe;Ce({message:`ERROR: ${e}@${t}:${n}: Permission denied. Cannot ${r[0].str}`})},ke=e=>{var t=(new Option).style;return t.color=e,t.color==e},Se=({command:e})=>{const t=e.args[0]||".",n=me.getEntFromPath(t);let r;if("file"==n.type)r=["ERROR: Expected a directory name/path, but found file name/path."];else{r=[".",".."];for(let e in n.data)r.push(n.data[e].name)}ve(r.join("\n")),Ie()},_e=({command:e})=>{const t=e.args[0];let n;if(void 0!==t){const e=me.getEntFromPath(t,!0);e.error||"directory"!=e.type?n="file"==e.type?`ERROR: ${t} is not a directory.`:e.error:pe.pwd=e.path}else n="ERROR: command cd expects a directory name as argument. No such name provided.";n&&ve(n),Ie()},Pe=({command:e})=>{let t=e.args;const n=e.options["n"];let r;if("*"==t[0]){t=[];const e=me.getEntFromPath(".");for(let n in e.data)"file"==e.data[n].type&&t.push(e.data[n].name)}for(let i in t){const e=me.getEntFromPath(t[i]);r="file"==e.type?e.data:"directory"==e.type?`ERROR: ${e.name} is not a file.`:e.error,ve((n?r.split("\n").map(((e,t)=>`${t+1}) ${e}`)).join("\n"):r)+"\nEOF")}Ie()},De=()=>{pe.childrenData=[],Ie()},Ee=({command:{args:e,options:t}})=>{let n,r="    ";const i=Object.getOwnPropertyNames(t);if(e.length||i.length)if(1!=e.length||i.length>1)n=["ERROR: Help command expects exactly one command name as argument and optionally followed by exactly one option in that command."];else{const s=ze.filter((t=>t.command==e[0]))[0];if(n=[s.help],t.length){let e=i[0];n.push(`${r}--${e} - ${s.options[e]}`)}else for(let e in s.options)n.push(`${r}--${e} - ${s.options[e]}`)}else n=ze.map((e=>`[${e.command}] - ${e.help}`.replace(/\n/g,"\n"+r)));ve(n.join("\n"),!0,!1),Ie()},Re=()=>{const e=new Date;e.setMinutes(e.getMinutes()-1),document.cookie=`mini-username=;expires=${e.toUTCString()};path=/`,pe.prevLoggedIn=!1,pe.loggedIn=!1,ve("You have been logged out successfully"),Ie()},Fe=()=>{ve(he),Ie()},Ae=({command:{args:e}})=>{const t=e[0]||1;let n;t<1?n="ERROR: Font-size should always be greater than 0.":(pe.fontsize=t,n=`Terminal font-size has been changed to ${t} unit(s).`),ve(n),Ie()},$e=()=>{ve(`Present working directory: '${pe.pwd}'`),Ie()},Le=()=>{Oe()},Ne=()=>{Oe()},Ue=()=>{Oe()},Be=({command:{options:e}})=>{const t=document.getElementsByTagName("body")[0],n=Object.getOwnPropertyNames(e).length;let r=[];n||(e={font:"fff",bg:"000"},r.push("No values provided, will fallback to default values"));for(let i in e){const n=ke(e[i]);t.style.setProperty(`--${i}-color`,(n?"":"#")+`${e[i]}`),r.push(`Changed ${i} color to `+(n?"":"#")+`${e[i]}`)}ve(r.join("\n")),Ie()},ze=[{command:"help",options:{},args:1,help:"Usage: help <command name> <?options for command> \nDisplays help text for each of the command supported in this terminal and also provides help for each of the option for each command.",executor:Ee},{command:"ls",options:{},args:1,help:"Usage: ls <dir> \nList all files and directories in a given directory or current directory if no argument is provided.",executor:Se},{command:"cd",options:{},args:1,help:"Usage: cd <dir> \nChanges present working directory to the given directory.",executor:_e},{command:"cat",options:{n:"Prints the line numbers before each line."},args:1/0,help:"Usage: cat <?...options> <file1> <...more files> \nConcatenates file contents and displays it.",executor:Pe},{command:"clear",options:{},args:0,help:"Usage: clear \nClears all output text present from terminal.",executor:De},{command:"logout",options:{},args:0,help:"Usage: logout \nCloses the session to terminal.",executor:Re},{command:"ver",options:{},args:0,help:"Usage: ver \nPrints the current version of the terminal.",executor:Fe},{command:"color",options:{font:"Sets the color for font in terminal.",bg:"Sets the color for background of terminal."},args:0,help:"Usage: color <?...options>\nSets the colors of the elements in terminal according to the options provided.\nAll colors should be provided as valid color name according to css (or) 3 or 6 digited hex color codes, whithout '#' sign in the beginning.\nEx:000, fff, fafafa, 020202.",executor:Be},{command:"fontsize",options:{},args:1,help:"Usage: fontsize <size> \nSets the font-size of the text in terminal.\nIf no argument is provided, font-size falls back to default value.\nArgument size should always be greater than 0.",executor:Ae},{command:"mv",options:{},args:2,help:"Usage: mv <old-path> <new-path> \nMoves files/directories or renames them.",executor:Ue},{command:"rm",options:{r:"Recursively deletion in a directory."},args:1/0,help:"Usage: rm <file1> <?...files> \nRemoves files/directories from the disk.",executor:Ne},{command:"mkdir",options:{},args:1,help:"Usage: mkdir <directory-name> \nCreates new directory in the path specified.",executor:Le},{command:"pwd",options:{},args:0,help:"Usage: pwd \nUsed to print the present working directory.",executor:$e},{command:"sudo",options:{},args:0,help:"Usage: logout \nExecute a command with root user privileges.",executor:void 0}],We=e=>{const[t]=ze.filter((({command:t})=>t==e[0]["str"])),{isValid:n,info:r}=xe(e,t);n?(r.command=be(e),t.executor(r)):Ce({...r,error:!0,data:void 0})},je=e=>{if(pe=e,!pe.prevLoggedIn)return pe.prevLoggedIn=!0,ve(`You are now logged in as ${pe.username}`),void Ie();const{commandTokens:t}=e;""==t[0].str.trim()?Ie():"sudo"==t[0].str?Oe():t.length?We(t):Ie()};class qe{constructor(){this.comTrie={links:0},this.optTrie={links:0},this.fileTrie={links:0},this.commandList=[],this.buildCommandTrie(),this.buildOptionsTrie()}insertInTrie(e,t,n){if(n!=t.length){const r=t[n];return e.hasOwnProperty(r)||(e[r]={links:0}),e.links+=1,this.insertInTrie(e[r],t,n+1)}}buildTrieForFiles(e){this.fileTrie={links:0};for(let t in e.data)this.insertInTrie(this.fileTrie,e.data[t].name,0)}buildCommandTrie(){this.commandList=ze.map((e=>e.command));const e=this.commandList;for(let t in e)this.insertInTrie(this.comTrie,e[t],0)}buildOptionsTrie(){const e=this.commandList;for(let t in e){const n=Object.getOwnPropertyNames(ze.filter((n=>n.command==e[t]))[0].options);this.optTrie[e[t]]={links:0};for(let r in n)this.insertInTrie(this.optTrie[e[t]],n[r],0)}}getCommandTrie(e){let t=this.comTrie;for(let n in e){if(!t.hasOwnProperty(e[n]))return;t=t[e[n]]}return t}getOptionsTrie(e,t){let n=this.optTrie[e];for(let r in t){if(!n.hasOwnProperty(t[r]))return;n=n[t[r]]}return n}getFilesTrie(e){let t=this.fileTrie;for(let n in e){if(!t.hasOwnProperty(e[n]))return;t=t[e[n]]}return t}getStringsFromTrie(e,t,n){if(!e)return;let r=n;if(0!=e.links)for(let i in e)"links"!=i&&this.getStringsFromTrie(e[i],t,r+i);else t.push(r)}getSuggestions(e,t,n){let r=[];return""==e||(e.length>0&&!n?this.getStringsFromTrie(this.getCommandTrie(e),r,""):e.length>0&&n&&"string"!=typeof t?(this.buildTrieForFiles(t),this.getStringsFromTrie(this.getFilesTrie(e),r,"")):t.length>-1&&n&&this.getStringsFromTrie(this.getOptionsTrie(e,t),r,"")),r}getCommonSubStr(e,t){if(!e)return;let n=t;const r=Object.getOwnPropertyNames(e);if(2==r.length){const t=r.indexOf("links")?0:1,i=r[t];return this.getCommonSubStr(e[i],n+i)}return n}autoComplete(e,t,n){let r="";return""==e||(e.length>0&&!n?r=this.getCommonSubStr(this.getCommandTrie(e),""):e.length>0&&n&&"string"!=typeof t?(this.buildTrieForFiles(t),r=this.getCommonSubStr(this.getFilesTrie(e),"")):t.length>-1&&n&&(r=this.getCommonSubStr(this.getOptionsTrie(e,t),""))),r}}const Me=new qe;var Ze={name:"TerminalContainer",components:{TerminalLogin:le,TerminalInput:ne},data(){return{editableText:"",cursorIndex:0,pwd:"Username",childrenData:[],history:[],hIndex:0,username:"Guest",prevLoggedIn:!1,loggedIn:!1,fontsize:1}},props:{sysname:{type:String,default:"MiniTerminal"},commands:{type:Array,default:()=>ze}},methods:{openKeyboard(){document.getElementById("fake-input").focus()},isBackspace(e){return"Backspace"==e},isShiftKey({shiftKey:e}){return e},isPunctuationOrSymbol(e){return!!e.match(/[\/\.,';:"?\s*\-]/)},isAlNum(e){return!!e.match(/[a-zA-Z0-9]/)&&1==e.length},isTab(e){return"Tab"==e},isEnter({key:e,keyCode:t}){return 13==t||"Enter"==e},isArrow(e){return{check:e.startsWith("Arrow"),direction:e.slice(5)}},isControlActive({metaKey:e,ctrlKey:t}){const n=this.os;return"MacOS"==n?e||t:"Windows"==n&&t},lastPunctuationIndex(){const e=this.punctuationIndices;return e[e.length-1]||-1},handleBackspace(e){const t=this.editableText;let n;n=e?this.getNearestPunctIndex(0,this.punctuationIndices):this.cursorIndex-1,this.editableText=t.slice(0,-1==n?n*t.length:n)+t.slice(this.cursorIndex),this.cursorIndex=-1==n?0:n},getDirOffset(e){return e?1:-1},resolveNearestBase(e,t,n){return e[t+this.getDirOffset(n)]||(n?this.editableText.length+1:-1)},checkAndResolve(e,t,n){const r=e.indexOf(t);return r>-1?e[r+this.getDirOffset(n)]!=t+this.getDirOffset(n)?this.resolveNearestBase(e,r,n):this.resolveNearestBase(e,r+this.getDirOffset(n),n):r},getNearestPunctIndex(e,t){let n=t.slice(0);const r=this.cursorIndex,i=this.checkAndResolve(n,r,e);return i>-1?i:(n.push(r),n.sort(((e,t)=>e-t)),this.checkAndResolve(n,r,e))},moveCursor(e){if(e){const e=this.editableText.length;return this.cursorIndex==e?this.cursorIndex:this.cursorIndex+1}return 0==this.cursorIndex?this.cursorIndex:this.cursorIndex-1},moveCursorCtrl(e){const t=this.getNearestPunctIndex(e,this.punctuationIndices),n=!this.isPunctuationOrSymbol(this.editableText[t+(e?-1:1)]||"");return t+(n?e?-1:1:0)},handleSideArrows(e,t){this.cursorIndex="Left"==e?t?this.moveCursorCtrl(0):this.moveCursor(0):t?this.moveCursorCtrl(1):this.moveCursor(1)},setHistoryAsCurrent(e){const{history:t}=this,{editableText:n,cursorIndex:r}=t[e];this.hIndex=e,this.editableText=n,this.cursorIndex=r},handleVerticalArrows(e){const{hIndex:t}=this;if("Up"==e){if(0==t)return;this.setHistoryAsCurrent(t-1)}else{if(t==this.history.length)return;t==this.history.length-1?(this.hIndex=t+1,this.editableText="",this.cursorIndex=0):this.setHistoryAsCurrent(t+1)}},mutateText(e,t){const{editableText:n,cursorIndex:r}=this,i=n.slice(0,r),s=n.slice(r);this.editableText=i+(e?"":t)+s,this.cursorIndex+=1},getRequiredData(e){const t=e.key;return{char:t,ctrl:this.isControlActive(e),shift:this.isShiftKey(e),punctuation:this.isPunctuationOrSymbol(t),alnum:this.isAlNum(t),isTab:this.isTab(t),isEnter:this.isEnter(e),isArrow:this.isArrow(t),isLastCharPunc:this.isPunctuationOrSymbol(this.editableText[this.editableText.length-1]||"")}},autoComplete(){if(this.loggedIn){let e="";const{commandTokens:t}=this,n=t[t.length-1];if(!n)return;if("command"==n.type)e=Me.autoComplete(n.str,"",!1);else if("optkey"==n.type&&n.str.length>1)e=Me.autoComplete(t[0].str,n.str.slice(2),!0);else if("argument"==n.type&&!n.str.startsWith("-")){let t=me.getEntFromPath(n.str);(t.error||"file"==t.type)&&(t=me.getEntFromPath(".")),e=Me.autoComplete(n.str,t,!0)}void 0!=e&&(this.editableText=this.editableText+e,this.cursorIndex=this.cursorIndex+e.length)}},getTokenType(e,t){const n=0!=t.length;return n||0==e.length?n?""==e.trim()?"delimiter":e.startsWith("--")?"optkey":t[t.length-2]["str"].startsWith("--")?"optval":"argument":void 0:"command"},paintEditableAsReadOnly(){const e=document.getElementById("user-pwd").textContent,t=this.childrenData[this.childrenData.length-1],n={child:T,props:{readOnlyText:e.trim().concat(" ",t.props.editableText),breakOnNewLine:!0}};this.childrenData.pop(),this.childrenData.push(n)},loginUser(){const e=new Date;e.setDate(e.getDate()+1),document.cookie=`mini-username=${this.editableText};expires=${e.toUTCString()};path=/`,document.cookie&&(this.loggedIn=!0,this.username=this.editableText,this.pwd="~",document.cookie=`mini-username=${this.editableText};expires=${e.toUTCString()};path=/`)},appendToHistory(){const{cursorIndex:e,editableText:t}=this;10==this.history.length&&(this.history.slice(1),this.hIndex-=1),this.history.push({editableText:t,cursorIndex:e}),this.hIndex+=1},processCommand(){this.appendToHistory(),this.paintEditableAsReadOnly(),this.isLoggedIn||this.loginUser(),je(this)},updateChanges(){const{editableText:e,cursorIndex:t,pwd:n,username:r,suggestions:i}=this,s=this.childrenData.length-1;"TerminalInput"==this.childrenData[s].child.name&&(this.childrenData[s].props={editableText:e,cursorIndex:t,pwd:n,username:r,suggestions:i})},copySelection(){navigator.clipboard.writeText(document.getSelection().toString())},pasteContent(){navigator.clipboard.readText().then((e=>{this.editableText=e,this.cursorIndex=e.length,this.updateChanges()}))},handleInput(e){const{char:t,ctrl:n,shift:r,punctuation:i,alnum:s,isTab:o,isEnter:a,isArrow:l,isLastCharPunc:c}=this.getRequiredData(e);if(a)this.processCommand();else if(n&&"c"==t.toLowerCase())this.copySelection();else if(n&&"v"==t.toLowerCase())this.pasteContent();else if(o)this.autoComplete();else if(this.isBackspace(t))this.handleBackspace(n);else if(l.check){const e=l.direction;"Left"==e||"Right"==e?this.handleSideArrows(l.direction,n):this.handleVerticalArrows(l.direction)}else(s||i)&&this.mutateText(n,t);this.updateChanges()}},computed:{fontSize({fontsize:e}){return e},commandTokens({editableText:e}){const t=this.getTokenType;let n=e.match(/([\/a-zA-z0-9_.()`!@#$%^&*\-=+,<>?'";|:\[\]{}]+)|(\s+)/g),r=[],i=0,s=0;for(let o in n)s=i+n[o].length-1,r.push({str:n[o],start:i,end:s,type:t(n[o],r)}),i=s+1;return r},punctuationIndices({commandTokens:e}){const t=e.filter((({str:e})=>this.isPunctuationOrSymbol(e)));let n=[];for(let r in t){const{start:e,end:i}=t[r];e==i?n.push(e):n.push(e,i)}return n},os:()=>{var e=window.navigator.userAgent,t=window.navigator.platform,n=["Macintosh","MacIntel","MacPPC","Mac68K"],r=["Win32","Win64","Windows","WinCE"],i=["iPhone","iPad","iPod"],s=null;return-1!==n.indexOf(t)?s="MacOS":-1!==i.indexOf(t)?s="iOS":-1!==r.indexOf(t)?s="Windows":/Android/.test(e)?s="Android":!s&&/Linux/.test(t)&&(s="Linux"),s},isLoggedIn(){const e=document.cookie.split(";");let t=-1;for(let n=0;n<e.length;n++)if(null!==e[n].match("mini-username")){t=n;break}if(e&&-1!==t){const n=e[t].split("=")[1];""!==n&&(this.prevLoggedIn=!0,this.loggedIn=!0,this.pwd="~",this.username=n)}return this.loggedIn},children({pwd:e,username:t,cursorIndex:n,editableText:r,childrenData:i,isLoggedIn:s,suggestions:o}){if(i&&0!=i.length)return i;{let s={pwd:e,username:t,cursorIndex:n,editableText:r,suggestions:o};return i.push({child:ne,props:s}),i}},historyIndex({hIndex:e}){return e},suggestions({commandTokens:e,loggedIn:t}){if(t){const t=e[e.length-1];if(t){if("command"==t.type)return Me.getSuggestions(t.str,"",!1);if("optkey"==t.type&&t.str.length>1)return Me.getSuggestions(e[0].str,t.str.slice(2),!0);if("argument"!=t.type||t.str.startsWith("-"))return[];{let e=me.getEntFromPath(t.str);return(e.error||"file"==e.type)&&(e=me.getEntFromPath(".")),Me.getSuggestions(t.str,e,!0)}}return[]}return[]}}},He=Ze,Ke=(0,f.Z)(He,o,a,!1,null,null,null),Ve=Ke.exports,Ge={name:"app",components:{TerminalContainer:Ve},methods:{setFocus(){document.getElementById("terminal-container").focus()}}},Ye=Ge,Je=(0,f.Z)(Ye,i,s,!1,null,null,null),Qe=Je.exports;r.ZP.config.productionTip=!1,new r.ZP({render:e=>e(Qe)}).$mount("#app")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,s){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],i=e[d][1],s=e[d][2];for(var a=!0,l=0;l<r.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(a=!1,s<o&&(o=s));if(a){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,i,s]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var d=l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},r=self["webpackChunkterminal_app"]=self["webpackChunkterminal_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(542)}));r=n.O(r)})();
//# sourceMappingURL=app.47bc89e8.js.map